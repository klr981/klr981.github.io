<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the display method from the AnimationSheetBuilder class, for the Dart programming language.">
  <title>display method - AnimationSheetBuilder class - flutter_test library - Dart API</title>

  <!-- required because all the links are pseudo-absolute -->
  <base href="../../">

  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <link rel="stylesheet" href="static-assets/github.css?v1">
  <link rel="stylesheet" href="static-assets/styles.css?v1">
  <link rel="icon" href="static-assets/favicon.png?v1">

  <!-- style overrides for dartdoc -->
<style>
@import 'https://fonts.googleapis.com/css?family=Roboto:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Sharp|Material+Icons+Round';
</style>

<link href="https://flutter.github.io/assets-for-api-docs/assets/cupertino/cupertino.css" rel="stylesheet" type="text/css">

<link href="../assets/overrides.css" rel="stylesheet" type="text/css">

<link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Sharp|Material+Icons+Round" rel="stylesheet">
<style>
  /* Rule for sizing the icon. */
  .md-36 { font-size: 36px; }
</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67589403-1', 'auto');
  ga('send', 'pageview');
</script>

<script async="" defer="" src="../assets/api_survey.js"></script>

<!-- Styles and scripting for handling custom code snippets -->
<link href="../assets/snippets.css" rel="stylesheet" type="text/css">
<script src="../assets/snippets.js"></script>

<link rel="search" type="application/opensearchdescription+xml" title="Flutter API" href="/opensearch.xml"/>

</head>


<body data-base-href="../../" data-using-base-href="true">

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="index.html">Flutter</a></li>
    <li><a href="flutter_test/flutter_test-library.html">flutter_test</a></li>
    <li><a href="flutter_test/AnimationSheetBuilder-class.html">AnimationSheetBuilder</a></li>
    <li class="self-crumb"><span class="deprecated">display</span> method</li>
  </ol>
  <div class="self-name">display</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
<!--  <div class="temp-box"></div>-->
<!--  <i class="fa fa-sun-o" style="font-size:24px;"></i>  <div class="toggle" id="theme-button">-->
<!--    <label for="theme" class="switch">-->
<!--      <input type="checkbox" id="theme" value="light">-->
<!--      <span class="slider round"></span>-->
<!--    </label>-->
<!--  </div>-->
<!--  <i class="fa fa-moon-o"  style="font-size:24px;"></i>-->
</header>
<main>


  <div id="dartdoc-main-content" class="main-content">
      <div>
  <div id="external-links" class="btn-group"><a title="View source code" class="source-link" href="https://github.com/flutter/flutter/blob/master/packages/flutter_test/lib/src/animation_sheet.dart#L253"><i class="material-icons">description</i></a></div>
<h1><span class="kind-method">display</span> method 
    <a href="https://dart.dev/null-safety" class="feature feature-null-safety" title="Supports the null safety language feature.">Null safety</a>
</h1></div>

    <section class="multi-line-signature">
      
<div>
  <ol class="annotation-list">
    <li>@<a href="dart-core/Deprecated-class.html">Deprecated</a>(&#39;Use AnimationSheetBuilder.collate instead. &#39; &#39;This feature was deprecated after v2.3.0-13.0.pre.&#39;)</li>
  </ol>
</div>

<span class="returntype"><a href="dart-async/Future-class.html">Future</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="widgets/Widget-class.html">Widget</a></span>&gt;</span></span>
<span class="name deprecated">display</span>(<wbr><ol class="parameter-list"><li><span class="parameter" id="display-param-key">{<span class="type-annotation"><a href="foundation/Key-class.html">Key</a>?</span> <span class="parameter-name">key</span>}</span></li>
</ol>)

      <div class="features">@<a href="dart-core/Deprecated-class.html">Deprecated</a>(&#39;Use AnimationSheetBuilder.collate instead. &#39; &#39;This feature was deprecated after v2.3.0-13.0.pre.&#39;)</div>

    </section>
    
<section class="desc markdown">
  <p>Constructs a widget that renders the recorded frames in an animation sheet.</p>
<p>The resulting widget takes as much space as its parent allows, which is
usually the screen size. It is then filled with all recorded frames, each
having a size specified by <a href="flutter_test/AnimationSheetBuilder/frameSize.html">frameSize</a>, chronologically from top-left to
bottom-right in a row-major order.</p>
<p>This widget does not check whether its size fits all recorded frames.
Having too many frames can cause overflow errors, while having too few can
waste the size of golden files. Therefore you should usually adjust the
viewport size to <a class="deprecated" href="flutter_test/AnimationSheetBuilder/sheetSize.html">sheetSize</a> before calling this method.</p>
<p>The <code>key</code> is applied to the root widget.</p>
<p>This method can only be called if at least one frame has been recorded.</p>
<p>The <a class="deprecated" href="flutter_test/AnimationSheetBuilder/display.html">display</a> is the legacy way of acquiring the output for comparison.
It is not recommended because it requires more boilerplate, and produces
a much large image than necessary: each pixel is rendered in 3x3 pixels
without higher definition. Use <a href="flutter_test/AnimationSheetBuilder/collate.html">collate</a> instead.</p>
<p>Using this way includes the following steps:</p>
<ul>
<li>Create an instance of this class.</li>
<li>Pump frames that render the target widget wrapped in <a href="flutter_test/AnimationSheetBuilder/record.html">record</a>. Every frame
that has <code>recording</code> being true will be recorded.</li>
<li>Adjust the size of the test viewport to the <a class="deprecated" href="flutter_test/AnimationSheetBuilder/sheetSize.html">sheetSize</a> (see the
documentation of <a class="deprecated" href="flutter_test/AnimationSheetBuilder/sheetSize.html">sheetSize</a> for more information).</li>
<li>Pump a frame that renders <a class="deprecated" href="flutter_test/AnimationSheetBuilder/display.html">display</a>, which shows all recorded frames in an
animation sheet, and can be matched against the golden test.</li>
</ul>
<p>
<a name="flutter_test.flutter_test.AnimationSheetBuilder.display.1"></a>
<div class="anchor-container">
  <a class="anchor-button-overlay anchor-button" title="Copy link to clipboard"
     onmouseenter="fixHref(this, 'flutter_test.flutter_test.AnimationSheetBuilder.display.1');"
     onclick="fixHref(this, 'flutter_test.flutter_test.AnimationSheetBuilder.display.1'); copyStringToClipboard(this.href);"
     href="#">
    <i class="material-icons copy-image">link</i>
  </a>
</div>
<div class="snippet-container">
  <div class="snippet"><div class="snippet-description">
The following example shows how to record an animation sheet of an <a href="material/InkWell-class.html">InkWell</a>
being pressed then released.
</div>
    <div class="copyable-container">
      <button class="copy-button-overlay copy-button" title="Copy to clipboard"
              onclick="copyTextToClipboard(findSiblingWithId(this, 'sample-code'));">
        <i class="material-icons copy-image">assignment</i>
      </button>
      <pre class="language-dart" id="sample-code"><code class="language-dart">testWidgets(&#39;Inkwell animation sheet&#39;, (WidgetTester tester) async {
  &#47;&#47; Create instance
  final AnimationSheetBuilder animationSheet = AnimationSheetBuilder(frameSize: const Size(48, 24));

  final Widget target = Material(
    child: Directionality(
      textDirection: TextDirection.ltr,
      child: InkWell(
        splashColor: Colors.blue,
        onTap: () {},
      ),
    ),
  );

  &#47;&#47; Optional: setup before recording (`recording` is false)
  await tester.pumpWidget(animationSheet.record(
    target,
    recording: false,
  ));

  final TestGesture gesture = await tester.startGesture(tester.getCenter(find.byType(InkWell)));

  &#47;&#47; Start recording (`recording` is true)
  await tester.pumpFrames(animationSheet.record(
    target,
    recording: true,
  ), const Duration(seconds: 1));

  await gesture.up();

  await tester.pumpFrames(animationSheet.record(
    target,
    recording: true,
  ), const Duration(seconds: 1));

  &#47;&#47; Adjust view port size
  tester.binding.setSurfaceSize(animationSheet.sheetSize());

  &#47;&#47; Display
  final Widget display = await animationSheet.display();
  await tester.pumpWidget(display);

  &#47;&#47; Compare against golden file
  await expectLater(
    find.byWidget(display),
    matchesGoldenFile(&#39;inkwell.press.animation.png&#39;),
  );
}, skip: isBrowser); &#47;&#47; Animation sheet does not support browser https:&#47;&#47;github.com&#47;flutter&#47;flutter&#47;issues&#47;56001</code></pre>
    </div>
  </div>
</div>
</p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">@Deprecated(
  &#39;Use AnimationSheetBuilder.collate instead. &#39;
  &#39;This feature was deprecated after v2.3.0-13.0.pre.&#39;,
)
Future&lt;Widget&gt; display({Key? key}) async {
  assert(_recordedFrames.isNotEmpty);
  final List&lt;ui.Image&gt; frames = await _frames;
  return _CellSheet(
    key: key,
    cellSize: frameSize,
    children: frames.map((ui.Image image) =&gt; RawImage(
      image: image.clone(),
      width: frameSize.width,
      height: frameSize.height,
      &#47;&#47; Disable quality enhancement because the point of this class is to
      &#47;&#47; precisely record what the widget looks like.
      filterQuality: ui.FilterQuality.none,
    )).toList(),
  );
}</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="index.html">Flutter</a></li>
  <li><a href="flutter_test/flutter_test-library.html">flutter_test</a></li>
  <li><a href="flutter_test/AnimationSheetBuilder-class.html">AnimationSheetBuilder</a></li>
  <li class="self-crumb"><span class="deprecated">display</span> method</li>
</ol>


    <h5>AnimationSheetBuilder class</h5>
    <ol>

        <li class="section-title"><a href="flutter_test/AnimationSheetBuilder-class.html#constructors">Constructors</a></li>
          <li><a href="flutter_test/AnimationSheetBuilder/AnimationSheetBuilder.html">AnimationSheetBuilder</a></li>


        <li class="section-title">
          <a href="flutter_test/AnimationSheetBuilder-class.html#instance-properties">Properties</a>
        </li>
          <li><a href="flutter_test/AnimationSheetBuilder/allLayers.html">allLayers</a></li>
          <li><a href="flutter_test/AnimationSheetBuilder/frameSize.html">frameSize</a></li>
          <li class="inherited"><a href="dart-core/Object/hashCode.html">hashCode</a></li>
          <li class="inherited"><a href="dart-core/Object/runtimeType.html">runtimeType</a></li>

        <li class="section-title"><a href="flutter_test/AnimationSheetBuilder-class.html#instance-methods">Methods</a></li>
          <li><a href="flutter_test/AnimationSheetBuilder/collate.html">collate</a></li>
          <li><a class="deprecated" href="flutter_test/AnimationSheetBuilder/display.html">display</a></li>
          <li class="inherited"><a href="dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
          <li><a href="flutter_test/AnimationSheetBuilder/record.html">record</a></li>
          <li><a class="deprecated" href="flutter_test/AnimationSheetBuilder/sheetSize.html">sheetSize</a></li>
          <li class="inherited"><a href="dart-core/Object/toString.html">toString</a></li>

        <li class="section-title inherited"><a href="flutter_test/AnimationSheetBuilder-class.html#operators">Operators</a></li>
          <li class="inherited"><a href="dart-core/Object/operator_equals.html">operator ==</a></li>




</ol>

  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    Flutter
      0.0.0
  </span>

  <script src="footer.js"></script>
</footer>



<script src="static-assets/highlight.pack.js?v1"></script>
<script src="static-assets/docs.dart.js"></script>



</body>

</html>

